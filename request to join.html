<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Request to Join | SACCO</title>
<style>
:root{
  --primary:#1e88e5;
  --secondary:#22c55e;
  --dark:#0f172a;
  --light:#f8fafc;
}

body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:url('https://images.unsplash.com/photo-1605902711622-cfb43c44367f') center/cover fixed;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}

.form-card{
  width:100%;
  max-width:550px;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(15px);
  padding:40px 30px;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.7);
}

.form-card h1{
  text-align:center;
  margin-bottom:25px;
  color:#38bdf8;
}

.form-card form{
  display:flex;
  flex-direction:column;
  gap:15px;
}

.form-card label{
  font-weight:600;
  margin-bottom:5px;
}

.form-card input, .form-card select{
  padding:12px;
  border-radius:10px;
  border:none;
  background:rgba(255,255,255,0.1);
  color:black;
}

.form-card button{
  padding:14px;
  border-radius:25px;
  border:none;
  background:linear-gradient(135deg,#1e88e5,#22c55e);
  font-weight:700;
  cursor:pointer;
  transition:.3s ease;
  color:#000;
  margin-top:10px;
}

.form-card button:hover{
  transform:scale(1.05);
  background:linear-gradient(135deg,#22c55e,#1e88e5);
}

.back{
  display:block;
  text-align:center;
  margin-top:20px;
  color:#38bdf8;
  text-decoration:none;
  font-weight:600;
}

.modal{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:.3s ease;
}

.modal.active{
  opacity:1;
  pointer-events:auto;
}

.modal-content{
  background:#020617;
  padding:30px;
  border-radius:20px;
  text-align:center;
  max-width:400px;
  box-shadow:0 15px 40px rgba(0,0,0,.7);
}

.modal-content h2{
  color:#38bdf8;
  margin-bottom:15px;
}

.modal-content button{
  padding:10px 20px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  font-weight:700;
  background:#38bdf8;
  color:#000;
  transition:.3s ease;
}

.modal-content button:hover{
  transform:scale(1.05);
  background:#22c55e;
}
</style>
</head>
<body>

<div class="form-card">
  <h1>Request to Join SACCO</h1>
  <form id="joinForm" action="https://formsubmit.co/tendoprosper28@gmail.com" method="POST">
    
    <label for="fullname">Full Name</label>
    <input type="text" id="fullname" name="Full Name" placeholder="Your full name" required>
    
    <label for="phone">Phone Number</label>
    <input type="tel" id="phone" name="Phone Number" placeholder="Your phone number" required>
    
    <label for="location">Location</label>
    <input type="text" id="location" name="Location" placeholder="Your location" required>
    
    <label for="gender">Gender</label>
    <select id="gender" name="Gender" required>
      <option value="">Select Gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
    
    <label for="source">How did you hear about us?</label>
    <select id="source" name="Source" required>
      <option value="">Select</option>
      <option value="Friend">Friend</option>
      <option value="Social Media">Social Media</option>
      <option value="Advertisement">Advertisement</option>
      <option value="Other">Other</option>
    </select>
    
    <input type="hidden" name="_subject" value="üõ°Ô∏è SACCO Membership Request">
    <input type="hidden" name="_captcha" value="false">
    <button type="submit">Submit Request</button>
  </form>

  <a href="become-member.html" class="back">‚¨Ö Back to Become a Member</a>
</div>

<!-- Success Modal -->
<div class="modal" id="successModal">
  <div class="modal-content">
    <h2>Request Sent!</h2>
    <p>Your membership request has been successfully submitted. Admins will review it shortly.</p>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<script>
const form = document.getElementById('joinForm');
const modal = document.getElementById('successModal');

form.addEventListener('submit', function(e){
  e.preventDefault();

  // Collect data
  const fullname = document.getElementById('fullname').value;
  const phone = document.getElementById('phone').value;
  const location = document.getElementById('location').value;
  const gender = document.getElementById('gender').value;
  const source = document.getElementById('source').value;

  // WhatsApp message
  const whatsappMsg = encodeURIComponent(
`üõ°Ô∏è New SACCO Membership Request
Name: ${fullname}
Phone: ${phone}
Location: ${location}
Gender: ${gender}
Source: ${source}`
  );

  // Open WhatsApp with pre-filled message
  window.open(`https://wa.me/256702640109?text=${whatsappMsg}`, '_blank');

  // Show modal
  modal.classList.add('active');

  // Submit form via FormSubmit
  form.submit();

  // Reset form
  form.reset();
});

function closeModal(){
  modal.classList.remove('active');
}
</script>

</body>
</html>
